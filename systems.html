
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systems &#8212; elmo  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Worker" href="worker.html" />
    <link rel="prev" title="Elmo" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="systems">
<h1>Systems<a class="headerlink" href="#systems" title="Permalink to this headline">¶</a></h1>
<p>The systems involved in running elmo and feeding it with data are
as follows.</p>
<div class="section" id="pulse">
<h2>Pulse<a class="headerlink" href="#pulse" title="Permalink to this headline">¶</a></h2>
<p>Pulse is Mozilla’s RabbitMQ instance used to communicate between different
build and release automation workflows.</p>
</div>
<div class="section" id="taskcluster">
<h2>Taskcluster<a class="headerlink" href="#taskcluster" title="Permalink to this headline">¶</a></h2>
<p>This automation framework is used to run compare-locales and publish
the results as artifacts on tasks. The completion of such a task
is announced to the rest of the system via Pulse.</p>
<p>It should be possible to use both the firefox-ci-tc and the
community-tc cluster to generate data.</p>
</div>
<div class="section" id="worker">
<h2>Worker<a class="headerlink" href="#worker" title="Permalink to this headline">¶</a></h2>
<p>The worker listens to Pulse messages, and in response to them updates
the local clones and elmo’s represenation of them.
It also inspects the Taskcluster task, retrieves meta data from
artifacts and stores them in the database.</p>
<p>The database also stores references to the artifacts with the detailed
information. The artifacts have a limited lifetime. It’s OK for elmo
to try to load them and fail in the case that lifetime is exceeded.</p>
<p>There may be more than one worker.</p>
</div>
<div class="section" id="storage">
<h2>Storage<a class="headerlink" href="#storage" title="Permalink to this headline">¶</a></h2>
<p>There’s shared storage between to the worker and the webserver to keep
local clones of the repositories that we use to show diffs.</p>
</div>
<div class="section" id="webserver">
<h2>Webserver<a class="headerlink" href="#webserver" title="Permalink to this headline">¶</a></h2>
<p>This is a django project, deployed as Docker container. Within the context
here, two apps and their models are of particular interest:</p>
<div class="section" id="life">
<h3>Life<a class="headerlink" href="#life" title="Permalink to this headline">¶</a></h3>
<p>This models data that lives outside of elmo itself. Repositories are
represented here, as well as revisions. Also Locales are stored, and
Trees.</p>
<p>Trees represent an automation flow, say, Firefox on mozillla-central.
These are bound to repositories and one project or product in them.
The key information here is a project configuration file in a particular
repository.</p>
</div>
<div class="section" id="l10nstats">
<h3>L10nstats<a class="headerlink" href="#l10nstats" title="Permalink to this headline">¶</a></h3>
<p>This holds the actual statistics for a particular Tree, time, and
Revisions.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">elmo</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="worker.html">Worker</a></li>
<li class="toctree-l1"><a class="reference internal" href="taskcluster.html">Taskcluster</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Elmo</a></li>
      <li>Next: <a href="worker.html" title="next chapter">Worker</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Axel Hecht.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/systems.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>